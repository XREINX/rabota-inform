# Информационная безопасность, контрольная работа №2
# Богданов Станислав, УИБО-04-24

# Задание 1:
<img width="1447" height="800" alt="image" src="https://github.com/user-attachments/assets/b2812115-8a96-4d09-8a80-28c066bcb86c" />
<img width="1165" height="801" alt="image" src="https://github.com/user-attachments/assets/abbc56b7-f415-40e5-bf40-cccd20447a51" />
Введённые данные были такими:
email: ' or 1=1;--
password:
Из-за этого сработала SQL-инъекция. Вероятно, в базе используется запрос вида:
SELECT * FROM Users WHERE email = '<email>' AND password = '<password>';
После подстановки получается:
SELECT * FROM Users WHERE email = '' OR 1=1;--' AND password='…';
OR 1=1 делает условие истинным для всех записей, а -- превращает остальную часть запроса в комментарий, поэтому проверка пароля просто игнорируется — вход становится возможным.

В OWASP Juice Shop авторизация работает через JWT. Это base64url-кодированные JSON-данные, которые приложение кладёт в cookie token (и иногда дублирует в заголовке Authorization: Bearer). После входа браузер автоматически отправляет этот cookie со всеми запросами к серверу.
# Ответы на вопросы к заданию 1:
1. Что такое SQL-инъекция?
SQL-инъекция — это тип атаки, при котором злоумышленник подставляет в поля ввода специальные фрагменты текста, превращающиеся внутри приложения в часть SQL-запроса. В итоге база данных выполняет не то, что задумал разработчик, потому что пользовательский ввод интерпретируется как команда.

2. Почему строка ' or 1=1;-- дала доступ к админ-аккаунту?
Фраза OR 1=1 делает условие в WHERE всегда истинным, поэтому запрос возвращает все записи таблицы пользователей. Символы -- запускают комментарий, из-за чего проверка пароля полностью «отключается». В результате приложение считает, что найден «какой-то» пользователь (часто первый — им и оказывается администратор) и пропускает внутрь.

3. Как защититься от таких атак?
Главная защита — использовать параметризованные запросы (prepared statements), чтобы ввод никогда не попадал в SQL как код. Дополнительно помогают серверная валидация данных, ограничение прав базы, ORM-фреймворки и регулярные проверки безопасности.

# Задание 2:

1. admin@juice-sh.op
2. 0192023a7bbd73250516f069df18b500
3. admin123
4. Cookie — это небольшие данные, которые сайт сохраняет в браузере пользователя. Обычно в них хранят сессионные идентификаторы, настройки или токены авторизации, чтобы сайт «помнил» пользователя между запросами.
5. Использовать параметризованные SQL-запросы, проверять и фильтровать ввод, ограничивать права БД, применять хэширование паролей и регулярно проводить тесты безопасности. Это исключает возможность подставить SQL-код через поле ввода.
<img width="1295" height="809" alt="image" src="https://github.com/user-attachments/assets/9318a6ab-6462-497e-a7b9-0d3877ec1ad3" />
<img width="961" height="670" alt="image" src="https://github.com/user-attachments/assets/cf777024-05e9-4a5d-a685-d54f08c188b4" />
<img width="1087" height="529" alt="image" src="https://github.com/user-attachments/assets/c7bcd75f-fb9e-420c-8ffc-693943b85a4f" />

# Задание 3:
1. Параметр bid
2. Нельзя полагаться на значение bid, пришедшее от клиента: пользователь может изменить его вручную. На сервере нужно каждый раз убеждаться, что корзина действительно принадлежит текущему авторизованному пользователю. Любые действия с корзиной — просмотр, добавление или удаление товаров — должны выполняться только после проверки прав доступа.

# Задание 4:
<iframe src="javascript:alert(`B 0 0 M`)">
<img width="973" height="314" alt="image" src="https://github.com/user-attachments/assets/64fe2f58-68bd-461a-adb1-f72728fc373e" />



